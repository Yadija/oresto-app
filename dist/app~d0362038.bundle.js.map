{"version":3,"file":"app~d0362038.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/view/app.js","webpack://restaurant-apps/./src/scripts/view/page/detail.js","webpack://restaurant-apps/./src/scripts/view/page/favorite.js"],"sourcesContent":["import routes from '../routes/routes';\r\nimport UrlParser from '../routes/url-parser';\r\n// import DrawerInitiator from '../utils/drawer-initiator';\r\n\r\nclass App {\r\n  constructor({ content }) {\r\n    this._content = content;\r\n\r\n    this._initialAppShell();\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  _initialAppShell() {\r\n    // TODO\r\n  }\r\n\r\n  async renderPage() {\r\n    document.body.scrollTop = 0;\r\n    document.documentElement.scrollTop = 0;\r\n    document.querySelector('#drawer').classList.remove('open');\r\n\r\n    const url = UrlParser.parseActiveUrlWithCombiner();\r\n    const page = routes[url];\r\n    this._content.innerHTML = await page.render();\r\n    await page.afterRender();\r\n\r\n    const skipToContent = document.querySelector('.skip-link');\r\n    skipToContent.addEventListener('click', (event) => {\r\n      event.preventDefault();\r\n      document.querySelector('#mainContent').focus();\r\n    });\r\n\r\n    skipToContent.addEventListener('keyup', (event) => {\r\n      event.preventDefault();\r\n      if (event.keyCode === 13) {\r\n        document.querySelector('#mainContent').focus();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import '../../components/restaurant-detail';\r\n\r\nimport RestaurantSource from '../../data/restaurant-source';\r\nimport UrlParser from '../../routes/url-parser';\r\nimport LikeButtonPresenter from '../../utils/like-button-presenter';\r\nimport { renderError } from '../templates/template-creator';\r\nimport FavoriteRestaurantIdb from '../../data/favorite-restaurant-idb';\r\n\r\nconst Detail = {\r\n  async render() {\r\n    return `\r\n      <restaurant-detail></restaurant-detail>\r\n      <div id=\"likeButtonContainer\"></div>\r\n    `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const url = UrlParser.parseActiveUrlWithoutCombiner();\r\n    const loadingIndicatorElement = document.querySelector('loading-indicator');\r\n    const restaurantDetailElement = document.querySelector('restaurant-detail');\r\n\r\n    loadingIndicatorElement.style.display = 'block';\r\n\r\n    try {\r\n      const restaurant = await RestaurantSource.detailRestaurant(url.id);\r\n      restaurantDetailElement.restaurantDetail = restaurant;\r\n\r\n      LikeButtonPresenter.init({\r\n        likeButtonContainer: document.querySelector('#likeButtonContainer'),\r\n        favoriteRestaurants: FavoriteRestaurantIdb,\r\n        restaurant: {\r\n          id: restaurant.id,\r\n          name: restaurant.name,\r\n          pictureId: restaurant.pictureId,\r\n          description: restaurant.description,\r\n          rating: restaurant.rating,\r\n          city: restaurant.city,\r\n        },\r\n      });\r\n    } catch {\r\n      renderError();\r\n    } finally {\r\n      loadingIndicatorElement.style.display = 'none';\r\n    }\r\n  },\r\n};\r\n\r\nexport default Detail;\r\n","import FavoriteRestaurantIdb from '../../data/favorite-restaurant-idb';\r\nimport { renderError, renderEmptyData } from '../templates/template-creator';\r\nimport FavoriteRestaurantSearchPresenter from './liked-restaurants/favorite-restaurant-search-presenter';\r\nimport FavoriteRestaurantSearchView from './liked-restaurants/favorite-restaurant-search-view';\r\nimport FavoriteRestaurantShowPresenter from './liked-restaurants/favorite-restaurant-show-presenter';\r\n\r\nconst view = new FavoriteRestaurantSearchView();\r\n\r\nconst Favorite = {\r\n  async render() {\r\n    return view.getTemplate();\r\n  },\r\n\r\n  async afterRender() {\r\n    const loadingIndicatorElement = document.querySelector('loading-indicator');\r\n    // const restaurantListElement = document.querySelector('restaurant-list');\r\n    loadingIndicatorElement.style.display = 'block';\r\n\r\n    try {\r\n      const favoriteRestaurant = await FavoriteRestaurantIdb.getAllRestaurants();\r\n      if (favoriteRestaurant.length > 0) {\r\n        // restaurantListElement.restaurantList = favoriteRestaurant;\r\n        new FavoriteRestaurantShowPresenter({ view, favoriteRestaurants: FavoriteRestaurantIdb });\r\n        new FavoriteRestaurantSearchPresenter({ view, favoriteRestaurants: FavoriteRestaurantIdb });\r\n      } else {\r\n        renderEmptyData();\r\n      }\r\n    } catch {\r\n      renderError();\r\n    } finally {\r\n      loadingIndicatorElement.style.display = 'none';\r\n    }\r\n  },\r\n};\r\n\r\nexport default Favorite;\r\n"],"names":["i","content","this","_content","_initialAppShell","document","body","scrollTop","documentElement","querySelector","classList","remove","url","UrlParser","page","routes","render","innerHTML","afterRender","skipToContent","addEventListener","event","preventDefault","focus","keyCode","loadingIndicatorElement","restaurantDetailElement","style","display","RestaurantSource","id","restaurant","restaurantDetail","LikeButtonPresenter","likeButtonContainer","favoriteRestaurants","FavoriteRestaurantIdb","name","pictureId","description","rating","city","renderError","view","FavoriteRestaurantSearchView","getTemplate","length","FavoriteRestaurantShowPresenter","FavoriteRestaurantSearchPresenter","renderEmptyData"],"sourceRoot":""}