{"version":3,"file":"app~603e5c82.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/view/page/home.js","webpack://restaurant-apps/./src/scripts/view/page/liked-restaurants/favorite-restaurant-search-presenter.js","webpack://restaurant-apps/./src/scripts/view/page/liked-restaurants/favorite-restaurant-search-view.js","webpack://restaurant-apps/./src/scripts/view/page/liked-restaurants/favorite-restaurant-show-presenter.js","webpack://restaurant-apps/./src/scripts/view/templates/template-creator.js"],"sourcesContent":["import '../../components/hero-bar';\r\n\r\nimport RestaurantSource from '../../data/restaurant-source';\r\nimport { renderError } from '../templates/template-creator';\r\n\r\nconst Home = {\r\n  async render() {\r\n    return `\r\n      <hero-bar></hero-bar>\r\n      <h2>Explore Restaurant</h2>\r\n      <restaurant-list id=\"posts\"></restaurant-list>\r\n    `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const loadingIndicatorElement = document.querySelector('loading-indicator');\r\n    const restaurantListElement = document.querySelector('restaurant-list');\r\n    loadingIndicatorElement.style.display = 'block';\r\n\r\n    try {\r\n      const restaurants = await RestaurantSource.listRestaurant();\r\n      restaurantListElement.restaurantList = restaurants;\r\n    } catch {\r\n      renderError();\r\n    } finally {\r\n      loadingIndicatorElement.style.display = 'none';\r\n    }\r\n  },\r\n};\r\n\r\nexport default Home;\r\n","class FavoriteRestaurantSearchPresenter {\r\n  constructor({ favoriteRestaurants, view }) {\r\n    this._view = view;\r\n    this._listenToSearchRequestByUser();\r\n    this._favoriteRestaurants = favoriteRestaurants;\r\n  }\r\n\r\n  _listenToSearchRequestByUser() {\r\n    this._view.runWhenUserIsSearching((latestQuery) => {\r\n      this._searchRestaurants(latestQuery);\r\n    });\r\n  }\r\n\r\n  async _searchRestaurants(latestQuery) {\r\n    this._latestQuery = latestQuery.trim();\r\n\r\n    let foundRestaurants;\r\n    if (this.latestQuery.length > 0) {\r\n      foundRestaurants = await this._favoriteRestaurants.searchRestaurants(this.latestQuery);\r\n    } else {\r\n      foundRestaurants = await this._favoriteRestaurants.getAllRestaurants();\r\n    }\r\n\r\n    this._showFoundRestaurants(foundRestaurants);\r\n  }\r\n\r\n  _showFoundRestaurants(restaurants) {\r\n    this._view.showFavoriteRestaurants(restaurants);\r\n  }\r\n\r\n  get latestQuery() {\r\n    return this._latestQuery;\r\n  }\r\n}\r\n\r\nexport default FavoriteRestaurantSearchPresenter;\r\n","import { createRestaurantItemTemplate } from '../../templates/template-creator';\r\n\r\nclass FavoriteRestaurantSearchView {\r\n  getTemplate() {\r\n    return `\r\n      <div class=\"restaurant-search-container\">\r\n      <h2>Your Favorite Restaurant</h2>\r\n      <input id=\"query\" type=\"text\" placeholder=\"Search your favorite restaurant...\">\r\n        <div class=\"restaurant-result-container\">\r\n          <restaurant-list id=\"posts\"></restaurant-list>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  runWhenUserIsSearching(callback) {\r\n    document.getElementById('query').addEventListener('keyup', (event) => {\r\n      callback(event.target.value);\r\n    });\r\n  }\r\n\r\n  showFavoriteRestaurants(restaurants) {\r\n    let html;\r\n    let restaurantResultContainer = document.querySelector('.restaurant-result-container');\r\n\r\n    if (restaurants.length) {\r\n      html = restaurants.reduce((carry, restaurant) => carry.concat(createRestaurantItemTemplate(restaurant)), '');\r\n      restaurantResultContainer.style = 'display: grid';\r\n    } else {\r\n      html = this._getEmptyRestaurantTemplate();\r\n      restaurantResultContainer.style = 'display: block';\r\n    }\r\n\r\n    restaurantResultContainer.innerHTML = html;\r\n    restaurantResultContainer.dispatchEvent(new Event('restaurants:updated'));\r\n  }\r\n\r\n  _getEmptyRestaurantTemplate() {\r\n    return '<div class=\"restaurant-item__not__found\"><h1>Restaurant Not Found</h1></div>';\r\n  }\r\n}\r\n\r\nexport default FavoriteRestaurantSearchView;\r\n","class FavoriteRestaurantShowPresenter {\r\n  constructor({ view, favoriteRestaurants }) {\r\n    this._view = view;\r\n    this._favoriteRestaurants = favoriteRestaurants;\r\n\r\n    this._showFavoriteRestaurants();\r\n  }\r\n\r\n  async _showFavoriteRestaurants() {\r\n    const restaurants = await this._favoriteRestaurants.getAllRestaurants();\r\n    this._displayRestaurants(restaurants);\r\n  }\r\n\r\n  _displayRestaurants(restaurant) {\r\n    this._view.showFavoriteRestaurants(restaurant);\r\n  }\r\n}\r\n\r\nexport default FavoriteRestaurantShowPresenter;\r\n","import CONFIG from '../../global/config';\r\n\r\nconst showDesc = (description = '-') => {\r\n  const limit = 225;\r\n  if (description.length > limit) return `${description.substring(0, limit)}...`;\r\n  return description;\r\n};\r\nconst { BASE_IMAGE_URL, IMAGE_QUALITY } = CONFIG;\r\n\r\nconst createRestaurantItemTemplate = (restaurant) => `\r\n  <article class=\"card-item\" tabindex=\"0\">\r\n    <div class=\"card-head\">\r\n      <p>${restaurant.city}</p>\r\n      <picture>\r\n        <source srcset=\"${BASE_IMAGE_URL + IMAGE_QUALITY.SMALL + restaurant.pictureId}\" type=\"image/webp\" media=\"all and (max-width: 600px)\" />        \r\n        <source srcset=\"${BASE_IMAGE_URL + IMAGE_QUALITY.SMALL + restaurant.pictureId}\" type=\"image/jpeg\" media=\"all and (max-width: 600px)\" />\r\n        <img class=\"lazyload skeleton\" src=\"${BASE_IMAGE_URL + IMAGE_QUALITY.SMALL + restaurant.pictureId}\" alt=\"${restaurant.name || '-'}\">\r\n      </picture>\r\n    </div>\r\n    <div class=\"card-desc\">\r\n      <p class=\"rating\">⭐️ ${restaurant.rating || '-'}</p>\r\n      <h3 class=\"title\"><a href=\"/#/detail/${restaurant.id}\">${restaurant.name || '-'}</a></h3>\r\n      <p class=\"desc\">${showDesc(restaurant.description)}</p>\r\n    </div>\r\n  </article>\r\n`;\r\n\r\nconst renderError = () => {\r\n  const mainContent = document.querySelector('#mainContent');\r\n  mainContent.innerHTML = `\r\n    <div class=\"content-error\">\r\n      <h1 tabindex=\"0\">Failed to Retrieve Data</h1>\r\n      <p tabindex=\"0\">Data cannot be displayed due to an error on the server or because you are not connected to the internet and data is not available in the cache</p>\r\n    </div>\r\n  `;\r\n};\r\n\r\nconst renderEmptyData = () => {\r\n  const mainContent = document.querySelector('#mainContent');\r\n  mainContent.innerHTML = `\r\n    <div class=\"content-error\">\r\n      <h1 tabindex=\"0\">No Favorite Restaurant</h1>\r\n      <p tabindex=\"0\">You haven't favorited any restaurants yet, so we don't have anything to show you! Go favorite some!</p>\r\n    </div>\r\n  `;\r\n};\r\n\r\nconst createLikeButtonTemplate = () => `\r\n  <button aria-label=\"like this restaurant\" id=\"likeButton\" class=\"like\">\r\n    <i class=\"fa fa-heart-o\" aria-hidden=\"true\"></i>\r\n  </button>\r\n`;\r\n\r\nconst createUnlikeButtonTemplate = () => `\r\n  <button aria-label=\"unlike this restaurant\" id=\"unlikeButton\" class=\"like\">\r\n    <i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\r\n  </button>\r\n`;\r\n\r\nexport {\r\n  createRestaurantItemTemplate,\r\n  renderError,\r\n  renderEmptyData,\r\n  createLikeButtonTemplate,\r\n  createUnlikeButtonTemplate,\r\n};\r\n"],"names":["render","afterRender","loadingIndicatorElement","document","querySelector","restaurantListElement","style","display","RestaurantSource","restaurants","restaurantList","renderError","favoriteRestaurants","view","this","_view","_listenToSearchRequestByUser","_favoriteRestaurants","runWhenUserIsSearching","latestQuery","_searchRestaurants","_latestQuery","trim","length","searchRestaurants","foundRestaurants","getAllRestaurants","_showFoundRestaurants","showFavoriteRestaurants","callback","getElementById","addEventListener","event","target","value","html","restaurantResultContainer","reduce","carry","restaurant","concat","createRestaurantItemTemplate","_getEmptyRestaurantTemplate","innerHTML","dispatchEvent","Event","_showFavoriteRestaurants","_displayRestaurants","BASE_IMAGE_URL","CONFIG","IMAGE_QUALITY","city","SMALL","pictureId","name","rating","id","description","limit","substring","showDesc","renderEmptyData","createLikeButtonTemplate","createUnlikeButtonTemplate"],"sourceRoot":""}